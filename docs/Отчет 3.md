### **Отчет 3: Реализация динамической модели и базового GUI**

**Проект:** "Математические модели для решения физических задач: Мотоциклист в сфере"
**Команда:** Кривошеин, Сулимов, Юдинцев
**Отчетный период:** Неделя 3 ( 31 марта - 6 апреля )

---

#### **1. Краткое напоминание цели проекта**

Целью нашего проекта остается создание математической модели и интерактивного графического интерфейса для анализа движения мотоциклиста внутри "шара смерти". Мы стремимся понять условия устойчивого движения, определить минимально необходимую скорость для трюка с отделением нижней части сферы, и предоставить пользователю возможность исследовать влияние различных параметров на траекторию и динамику движения.

---

#### **2. Проделанная работа за неделю**

В течение этой недели наша команда добилась существенного прогресса, перейдя от статического анализа к динамическому моделированию и реализации пользовательского интерфейса:

### Юдинцев Степан занимался:

1.  **Разработка динамической модели (`model.py`):** Вместо анализа стационарного состояния на экваторе (как в Отчете 2), мы реализовали модель, которая симулирует движение мотоциклиста (представленного как материальная точка) во времени под действием сил. Модель использует численный метод интегрирования (Semi-implicit Euler) для расчета траектории и скорости шаг за шагом.
2.  **Учет ключевых физических аспектов:** Модель теперь включает:
    *   **Силу тяжести.**
    *   **Силу тяги мотоцикла:** Прикладывается тангенциально к траектории и *только при контакте* со сферой.

### Андрей Сулимов занимался:

3.  **Разработка графического интерфейса (`main.py`, `animation.py`):**
    *   Создано основное окно приложения с использованием PyQt5.
    *   Реализован 3D виджет (`SphereWidget` на базе QOpenGLWidget) для визуализации сферы, траектории движения точки, текущего положения точки.
    *   Добавлена панель для ввода параметров симуляции (радиус, масса, сила тяги, время симуляции).
    *   Реализован слайдер (таймлайн) для навигации по рассчитанной траектории.
    *   Добавлена информационная панель, отображающая текущие значения времени, координат и скорости для выбранного кадра на таймлайне.
    *   Реализовано управление камерой (вращение мышью, зум колесиком).

### Кривошеин Алексей занимался:

4.  * **Интеграция модели и GUI:** Код интерфейса (`main.py`) вызывает расчет траектории из `model.py` и передает полученные данные (координаты и скорости точек траектории) в виджет визуализации (`animation.py`).
    * **Написание отчета.**

---

#### **3. Описание реализованной динамической модели**

Текущая математическая модель описывает движение материальной точки массы $m$ внутри сферы радиуса $R$ под действием следующих сил:

*   **Сила тяжести:** $\vec{F}_g = (0, -mg, 0)$ (ось Y направлена вверх в системе координат визуализации).
*   **Сила тяги:** $\vec{F}_{drive}$. Ее модуль задается пользователем. Направление силы выбирается тангенциально к поверхности сферы и примерно в горизонтальном направлении (перпендикулярно радиальному вектору и вектору $\vec{k}=(0,0,1)$ или $\vec{i}=(1,0,0)$ для избежания проблем на полюсах). Сила тяги прикладывается **только тогда, когда точка находится в контакте** с поверхностью сферы.
**Численный метод:**
Для решения уравнений движения $\vec{F}_{net} = m\vec{a}$ используется метод **Semi-implicit Euler** с фиксированным шагом по времени $dt$:
1.  $\vec{a}_i = \vec{F}_{net}(\vec{r}_i, \vec{v}_i) / m$
2.  $\vec{v}_{i+1} = \vec{v}_i + \vec{a}_i dt$
3.  $\vec{r}_{i+1} = \vec{r}_i + \vec{v}_{i+1} dt$
4.  Применяются проверки и коррекции на контакт/отрыв для $\vec{r}_{i+1}$ и $\vec{v}_{i+1}$.

---

#### **4. Статус реализации GUI**

Разработан базовый графический интерфейс, позволяющий:
*   Задавать основные параметры модели и начальные условия.
*   Интерактивно просматривать рассчитанную траекторию с помощью таймлайна.
*   Получать численную информацию (время, позиция, скорость) для текущего кадра.
*   Управлять видом 3D-сцены (вращение, масштабирование).

---

#### **5. Обоснование перехода к динамической модели**

Статическая модель из Отчета 2 позволяла оценить лишь *условие* для движения по экватору с *постоянной* скоростью. Она не могла описать:
*   Процесс разгона мотоциклиста от начального состояния до экватора.
*   Влияние начальных условий (позиция, скорость) на итоговую траекторию.
*   Влияние силы тяги на ускорение.

Реализованная **динамическая модель** снимает эти ограничения, позволяя симулировать движение во времени и исследовать поведение системы в гораздо более широком диапазоне условий, что необходимо для полноценного анализа трюка.

---
#### **6. Планы на следующую неделю**
1. **Реализация и интеграция силы реакции опоры (нормальная сила) $\vec{N}$ и силы трения $\vec{F}_{tr}$:**
    *   Если точка пытается "провалиться" внутрь сферы, ее позиция корректируется (проецируется обратно на поверхность).
    *   Нормальная компонента скорости, направленная внутрь сферы, отражается с учетом коэффициента восстановления (моделируется удар). Компонента скорости, направленная наружу, может быть обнулена (если мы моделируем прилипание) или оставлена (если мы позволяем отрыв).
   **Реализация и интеграция отрыва:** Модель должна оценивать условия отрыва (например, когда расчетная сила реакции стала бы отрицательной или точка движется от поверхности). При отрыве точка переходит в режим свободного полета под действием только силы тяжести до следующего контакта.    
1. **Сравнение с литературными данными:** Провести предварительное сравнение результатов симуляции (например, условия устойчивого движения по экватору, минимальные скорости при определенных параметрах до момента потенциального отрыва) с теоретическими выкладками и численными расчетами, представленными в изученных научных статьях (в частности, работы McDonald K.T. и задача из журнала «Квант», адаптировав условия нашей модели к описанным в статьях, насколько это возможно на данном этапе). Это поможет верифицировать базовую динамику модели.
    
2. **Переработка интерфейса (Светлая тема):** Изменить визуальное оформление графического интерфейса (main.py, animation.py) на светлую цветовую схему для улучшения читаемости и пользовательского опыта.
    
3. **Тестирование и отладка:** После внесения исправлений в логику отрыва, провести расширенное тестирование модели с различными начальными условиями (скорость, позиция) и параметрами (сила тяги, радиус), уделяя особое внимание поведению системы в моменты контакта, отрыва и повторного контакта со сферой. Проанализировать стабильность численного решения.

---